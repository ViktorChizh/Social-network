{"version":3,"file":"static/js/387.d3d14b58.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/common/paginator/Paginator.module.css?6a1a","components/common/paginator/Paginator.tsx","webpack://samurai-way/./src/components/users/Users.module.css?9169","components/users/userItem/UserItem.tsx","components/users/Users.tsx","components/users/UsersContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pages\":\"Paginator_pages__fSLJy\",\"selected\":\"Paginator_selected__WSXNc\",\"paginationBlock\":\"Paginator_paginationBlock__AJCvt\",\"paginationSetting\":\"Paginator_paginationSetting__JrG99\"};","import s from 'components/common/paginator/Paginator.module.css'\nimport React from 'react'\n\nexport const Paginator = ({ totalCount, pageSize, onPageChanged, currentPage }:PaginatorProps) => {\n\tlet pagesCount = Math.ceil(totalCount / pageSize)\n\tlet pages = Array(pagesCount)\n\t\t.fill(0)\n\t\t.map((_, i) => i + 1)\n\t\t.slice(\n\t\t\tMath.floor(currentPage / pageSize) <= 5 ? 0 : currentPage - 5,\n\t\t\tcurrentPage > totalCount - 4 ? totalCount + 1 : currentPage + 4,\n\t\t)\n\n\treturn (\n\t\t<div className={s.paginationBlock}>\n\t\t\t<span style={{ color: \"#b1e5e7\", fontWeight: \"bolder\", fontSize: \"18px\", marginRight: \"10px\" }}>Page: </span>\n\t\t\t<span\n\t\t\t\tclassName={s.paginationSetting}\n\t\t\t\tonClick={() => onPageChanged(currentPage - 1000 <= 0 ? 1 : currentPage - 1000)}>\n\t\t\t\t{\"-1000 \"}\n\t\t\t</span>\n\t\t\t<span\n\t\t\t\tclassName={s.paginationSetting}\n\t\t\t\tonClick={() => onPageChanged(currentPage - 100 <= 0 ? 1 : currentPage - 100)}>\n\t\t\t\t{\"-100 \"}\n\t\t\t</span>\n\t\t\t<span className={s.paginationSetting} onClick={() => onPageChanged(currentPage - 10 <= 0 ? 1 : currentPage - 10)}>\n\t\t\t\t{\"-10 \"}\n\t\t\t</span>\n\t\t\t<span style={{ color: \"#b1e5e7\", fontWeight: \"bolder\" }}>{\"<\"}</span>\n\t\t\t{pages.map((i) => (\n\t\t\t\t<span\n\t\t\t\t\tkey={i}\n\t\t\t\t\tclassName={i === currentPage ? `${s.selected} ${s.pages}` : s.pages}\n\t\t\t\t\tonClick={() => onPageChanged(i)}>\n\t\t\t\t\t{i}\n\t\t\t\t</span>\n\t\t\t))}\n\t\t\t<span style={{ color: \"#b1e5e7\", fontWeight: \"bolder\" }}>{\">\"}</span>\n\t\t\t<span\n\t\t\t\tclassName={s.paginationSetting}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tonPageChanged(currentPage + 10 >= Math.ceil(totalCount / pageSize) ? pagesCount : currentPage + 10)\n\t\t\t\t}>\n\t\t\t\t{\" +10 \"}\n\t\t\t</span>\n\t\t\t<span\n\t\t\t\tclassName={s.paginationSetting}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tonPageChanged(currentPage + 100 >= Math.ceil(totalCount / pageSize) ? pagesCount : currentPage + 100)\n\t\t\t\t}>\n\t\t\t\t{\"+100 \"}\n\t\t\t</span>\n\t\t\t<span\n\t\t\t\tclassName={s.paginationSetting}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tonPageChanged(currentPage + 1000 >= Math.ceil(totalCount / pageSize) ? pagesCount : currentPage + 1000)\n\t\t\t\t}>\n\t\t\t\t{\"+1000\"}\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n//types\ntype PaginatorProps = {\n\ttotalCount: number\n\tpageSize: number\n\tcurrentPage: number\n\tonPageChanged: (pageNumber: number) => void\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"users\":\"Users_users__9lzLG\",\"block\":\"Users_block__buHg9\",\"blockImg\":\"Users_blockImg__WwF37\",\"blockMain\":\"Users_blockMain__Rl6zc\",\"status\":\"Users_status__MYids\",\"blockLocation\":\"Users_blockLocation__kGBj+\"};","import {User} from 'api/API'\nimport React from 'react'\nimport {NavLink} from 'react-router-dom'\nimport ava from '../../../assets/avatar.webp'\nimport s from '../Users.module.css'\n\nexport const UserItem = ({ user, toggleFollowUser, buttonDisabled }: UserProps) => {\n\treturn (\n\t\t<div className={s.block} key={user.id}>\n\t\t\t<div className={s.blockImg}>\n\t\t\t\t<NavLink to={`/profile/${user.id}`}>\n\t\t\t\t\t<img src={user.photos.small ? user.photos.small : ava} width=\"50px\" height=\"50px\" alt=\"avatar\" />\n\t\t\t\t</NavLink>\n\t\t\t\t{user.followed ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\tdisabled={buttonDisabled.some((id) => id === user.id)}\n\t\t\t\t\t\tstyle={{ opacity: buttonDisabled.some((id) => id === user.id) ? \"0.3\" : \"1\" }}\n\t\t\t\t\t\tonClick={() => toggleFollowUser(user.id, false)}>\n\t\t\t\t\t\tFOLLOW\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\tdisabled={buttonDisabled.some((id) => id === user.id)}\n\t\t\t\t\t\tstyle={{ opacity: buttonDisabled.some((id) => id === user.id) ? \"0.3\" : \"1\" }}\n\t\t\t\t\t\tonClick={() => toggleFollowUser(user.id, true)}>\n\t\t\t\t\t\tUNFOLLOW\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className={s.blockMain}>\n\t\t\t\t<NavLink to={`/profile/${user.id}`}>\n\t\t\t\t\t<span>{user.name}</span>\n\t\t\t\t</NavLink>\n\t\t\t\t<span className={s.status}>{user.status}</span>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n//types\ntype UserProps = {\n\tuser: User\n\tbuttonDisabled: number[]\n\ttoggleFollowUser: (userId: number, followed: boolean) => void\n}\n","import {User} from 'api/API'\nimport React from 'react'\nimport {Paginator} from '../common/paginator/Paginator'\nimport {UserItem} from 'components/users/userItem/UserItem'\n\nexport const Users = (props: UsersProps) => {\n\tlet { users, pageSize, currentPage, totalCount, buttonDisabled, onPageChanged, toggleFollowUser } = props\n\tdocument.title = \"SocialNetwork - users\"\n\treturn (\n\t\t<>\n\t\t\t<Paginator totalCount={totalCount} pageSize={pageSize} currentPage={currentPage} onPageChanged={onPageChanged} />\n\t\t\t{users.map((u) => (\n\t\t\t\t<UserItem key={u.id} user={u} toggleFollowUser={toggleFollowUser} buttonDisabled={buttonDisabled} />\n\t\t\t))}\n\t\t</>\n\t)\n}\n//types\ntype UsersProps = {\n\tusers: User[]\n\tpageSize: number\n\tcurrentPage: number\n\ttotalCount: number\n\tbuttonDisabled: number[]\n\tonPageChanged: (pageNumber: number) => void\n\ttoggleFollowUser: (userId: number, followed: boolean) => void\n}\n","import { User } from \"api/API\"\nimport { withAuthRedirect } from \"utils/hoc/withAuthRedirect\"\nimport React, { Component, ComponentType } from \"react\"\nimport { connect } from \"react-redux\"\nimport { Redirect } from \"react-router-dom\"\nimport { compose } from \"redux\"\nimport { StateRedux } from \"redux/_Store-Redux\"\nimport { toggleFollowUser, getUsers, setCurrentPage } from \"redux/UsersReducer\"\nimport {\n\tbuttonDisabledSelector,\n\tcurrentPageSelector,\n\tisLoggedInSelector,\n\tisPreloadingSelector,\n\tpageSizeSelector,\n\ttotalCountSelector,\n\tusersSelector,\n} from \"utils/selectors/selectors\"\nimport { Preloader } from \"../common/preloader/Preloader\"\nimport { Users } from \"./Users\"\nimport s from \"./Users.module.css\"\n\nclass UsersAPIComponent extends Component<UsersAPIComponentProps> {\n\tcomponentDidMount() {\n\t\tthis.props.getUsers(this.props.pageSize, this.props.currentPage)\n\t}\n\n\tonPageChanged(pageNumber: number) {\n\t\tthis.props.setCurrentPage(pageNumber)\n\t\tthis.props.getUsers(this.props.pageSize, pageNumber)\n\t}\n\n\trender() {\n\t\tif (!this.props.isLoggedIn) return <Redirect to={\"/login\"} />\n\t\treturn (\n\t\t\t<div className={s.users}>\n\t\t\t\t{this.props.isPreloading ? (\n\t\t\t\t\t<Preloader style={{ width: \"53%\", height: \"100%\" }} />\n\t\t\t\t) : (\n\t\t\t\t\t<Users\n\t\t\t\t\t\tusers={this.props.users}\n\t\t\t\t\t\ttoggleFollowUser={this.props.toggleFollowUser}\n\t\t\t\t\t\ttotalCount={this.props.totalCount}\n\t\t\t\t\t\tcurrentPage={this.props.currentPage}\n\t\t\t\t\t\tpageSize={this.props.pageSize}\n\t\t\t\t\t\tonPageChanged={this.onPageChanged.bind(this)}\n\t\t\t\t\t\tbuttonDisabled={this.props.buttonDisabled}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\nconst mapStateToProps = (state: StateRedux): MStP => ({\n\tusers: usersSelector(state),\n\tpageSize: pageSizeSelector(state),\n\tcurrentPage: currentPageSelector(state),\n\ttotalCount: totalCountSelector(state),\n\tisPreloading: isPreloadingSelector(state),\n\tbuttonDisabled: buttonDisabledSelector(state),\n\tisLoggedIn: isLoggedInSelector(state),\n})\nconst UsersContainer = compose<ComponentType>(\n\twithAuthRedirect,\n\tconnect(mapStateToProps, { setCurrentPage, toggleFollowUser, getUsers }),\n)(UsersAPIComponent)\n//types\ntype MStP = {\n\tusers: User[]\n\tpageSize: number\n\tcurrentPage: number\n\ttotalCount: number\n\tisPreloading: boolean\n\tbuttonDisabled: number[]\n\tisLoggedIn: boolean\n}\ntype MDtP = {\n\tsetCurrentPage: (currentPage: number) => void\n\ttoggleFollowUser: (userId: number, followed: boolean) => void\n\tgetUsers: (pageSize: number, currentPage: number) => void\n}\ntype UsersAPIComponentProps = MStP & MDtP\n\nexport default UsersContainer\n"],"names":["Paginator","_ref","totalCount","pageSize","onPageChanged","currentPage","pagesCount","Math","ceil","pages","Array","fill","map","_","i","slice","floor","_jsxs","className","s","children","_jsx","style","color","fontWeight","fontSize","marginRight","onClick","concat","UserItem","user","toggleFollowUser","buttonDisabled","NavLink","to","id","src","photos","small","ava","width","height","alt","followed","disabled","some","opacity","name","status","Users","props","users","document","title","_Fragment","u","UsersAPIComponent","Component","componentDidMount","this","getUsers","pageNumber","setCurrentPage","render","isLoggedIn","isPreloading","Preloader","bind","Redirect","compose","withAuthRedirect","connect","state","usersSelector","pageSizeSelector","currentPageSelector","totalCountSelector","isPreloadingSelector","buttonDisabledSelector","isLoggedInSelector"],"sourceRoot":""}